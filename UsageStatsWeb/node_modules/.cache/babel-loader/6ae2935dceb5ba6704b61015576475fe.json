{"ast":null,"code":"import _slicedToArray from \"E:\\\\react-firebase-auth\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"E:\\\\react-firebase-auth\\\\src\\\\pages\\\\ChildInfo.js\";\nimport React, { useEffect, useState } from \"react\";\nimport app from \"../base\";\nimport { DashboardLayout } from \"../components/Layout\";\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport { Table } from \"react-bootstrap\";\nimport moment from \"moment\";\nconst database = app.database();\nvar user = app.auth().currentUser;\n\nconst ChildInfo = () => {\n  function msToTime(duration) {\n    var milliseconds = Math.floor(duration % 1000 / 100),\n        seconds = Math.floor(duration / 1000 % 60),\n        minutes = Math.floor(duration / (1000 * 60) % 60),\n        hours = Math.floor(duration / (1000 * 60 * 60) % 24);\n    hours = hours < 10 ? \"0\" + hours : hours;\n    minutes = minutes < 10 ? \"0\" + minutes : minutes;\n    seconds = seconds < 10 ? \"0\" + seconds : seconds;\n    return hours + \":\" + minutes + \":\" + seconds + \".\" + milliseconds;\n  }\n\n  var databaseref = database.ref();\n  const email = app.auth().currentUser.email;\n  const username = email.split(\"@\")[0];\n\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        childData = _useState2[0],\n        setChildData = _useState2[1];\n\n  const params = useParams();\n  console.log(params.id);\n  useEffect(() => {\n    let ref = databaseref.child(\"users\").child(username).child(\"children\").child(params.id).child(\"AppDetails\");\n    ref.on(\"value\", snapshot => {\n      let elements = [];\n      const data = snapshot.val();\n      console.log(data); // snapshot.forEach((child) => {\n      //   elements.push({ id: child.key, ...child.val() });\n      // });\n\n      setChildData(data);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(DashboardLayout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    striped: true,\n    bordered: true,\n    hover: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, \"App Launch Count\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, \"lastTimeUsed\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, \"totalTimeInForeground\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, childData.map((item, idx) => {\n    console.log(item);\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: idx,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }, idx + 1), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    }, item.packageName), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }\n    }, item.appLaunchCount, \" \"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }, moment.unix(item.lastTimeUsed).format(\"HH:mm:ss\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }, msToTime(item.totalTimeInForeground)));\n  }))));\n};\n\nexport default ChildInfo;","map":{"version":3,"sources":["E:/react-firebase-auth/src/pages/ChildInfo.js"],"names":["React","useEffect","useState","app","DashboardLayout","useLocation","useNavigate","useParams","Table","moment","database","user","auth","currentUser","ChildInfo","msToTime","duration","milliseconds","Math","floor","seconds","minutes","hours","databaseref","ref","email","username","split","childData","setChildData","params","console","log","id","child","on","snapshot","elements","data","val","map","item","idx","packageName","appLaunchCount","unix","lastTimeUsed","format","totalTimeInForeground"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport app from \"../base\";\r\nimport { DashboardLayout } from \"../components/Layout\";\r\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport moment from \"moment\";\r\nconst database = app.database();\r\nvar user = app.auth().currentUser;\r\nconst ChildInfo = () => {\r\n  function msToTime(duration) {\r\n    var milliseconds = Math.floor((duration % 1000) / 100),\r\n      seconds = Math.floor((duration / 1000) % 60),\r\n      minutes = Math.floor((duration / (1000 * 60)) % 60),\r\n      hours = Math.floor((duration / (1000 * 60 * 60)) % 24);\r\n\r\n    hours = hours < 10 ? \"0\" + hours : hours;\r\n    minutes = minutes < 10 ? \"0\" + minutes : minutes;\r\n    seconds = seconds < 10 ? \"0\" + seconds : seconds;\r\n\r\n    return hours + \":\" + minutes + \":\" + seconds + \".\" + milliseconds;\r\n  }\r\n  var databaseref = database.ref();\r\n  const email = app.auth().currentUser.email;\r\n  const username = email.split(\"@\")[0];\r\n  const [childData, setChildData] = useState([]);\r\n  const params = useParams();\r\n  console.log(params.id);\r\n  useEffect(() => {\r\n    let ref = databaseref\r\n      .child(\"users\")\r\n      .child(username)\r\n      .child(\"children\")\r\n      .child(params.id)\r\n      .child(\"AppDetails\");\r\n    ref.on(\"value\", (snapshot) => {\r\n      let elements = [];\r\n      const data = snapshot.val();\r\n      console.log(data);\r\n      // snapshot.forEach((child) => {\r\n      //   elements.push({ id: child.key, ...child.val() });\r\n      // });\r\n      setChildData(data);\r\n    });\r\n  }, []);\r\n  return (\r\n    <DashboardLayout>\r\n      <Table striped bordered hover>\r\n        <thead>\r\n          <tr>\r\n            <th>#</th>\r\n            <th>Name</th>\r\n            <th>App Launch Count</th>\r\n            <th>lastTimeUsed</th>\r\n            <th>totalTimeInForeground</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {childData.map((item, idx) => {\r\n            console.log(item);\r\n            return (\r\n              <tr key={idx}>\r\n                <td>{idx + 1}</td>\r\n                <td>{item.packageName}</td>\r\n                <td>{item.appLaunchCount} </td>\r\n                <td>{moment.unix(item.lastTimeUsed).format(\"HH:mm:ss\")}</td>\r\n                <td>{msToTime(item.totalTimeInForeground)}</td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </Table>\r\n    </DashboardLayout>\r\n  );\r\n};\r\n\r\nexport default ChildInfo;\r\n"]},"metadata":{},"sourceType":"module"}